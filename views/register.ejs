<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/login.css">
    <link rel="stylesheet" href="/css/register.css">
</head>
<body>
    <div class="login-container">
        <div class="login-background">
            <div class="login-card register-card">
                <div class="login-header">
                    <div class="login-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM12 14.2C13.5 13.8 15 13.3 16.4 12.9C17.2 12.7 18 13.2 18 14V20C18 21.1 17.1 22 16 22H8C6.9 22 6 21.1 6 20V14C6 13.2 6.8 12.7 7.6 12.9C9 13.3 10.5 13.8 12 14.2ZM12 7C14.8 7 17 9.2 17 12C17 12.6 16.9 13.1 16.7 13.6C15.5 13.9 14.3 14.1 13 14.4V12C13 10.3 11.7 9 10 9S7 10.3 7 12V14.4C5.7 14.1 4.5 13.9 3.3 13.6C3.1 13.1 3 12.6 3 12C3 9.2 5.2 7 8 7H12Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <h1><%= title %></h1>
                    <p>สร้างบัญชีใหม่เพื่อเริ่มใช้งาน</p>
                </div>

                <% if (typeof error !== 'undefined' && error) { %>
                    <div class="alert alert-error">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="currentColor"/>
                        </svg>
                        <%= error %>
                    </div>
                <% } %>

                <% if (typeof success !== 'undefined' && success) { %>
                    <div class="alert alert-success">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z" fill="currentColor"/>
                        </svg>
                        <%= success %>
                    </div>
                <% } %>

                <form class="login-form register-form" action="/register" method="POST" id="registerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName">ชื่อ-นามสกุล</label>
                            <div class="input-group">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
                                </svg>
                                <input 
                                    type="text" 
                                    id="fullName" 
                                    name="fullName" 
                                    placeholder="กรอกชื่อ-นามสกุล"
                                    value="<%= typeof fullName !== 'undefined' ? fullName : '' %>"
                                    required
                                >
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="email">อีเมล</label>
                            <div class="input-group">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z" fill="currentColor"/>
                                </svg>
                                <input 
                                    type="email" 
                                    id="email" 
                                    name="email" 
                                    placeholder="กรอกอีเมล"
                                    value="<%= typeof email !== 'undefined' ? email : '' %>"
                                    required
                                >
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="username">ชื่อผู้ใช้</label>
                        <div class="input-group">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V18C3 19.1 3.9 20 5 20H11C11.8 21.2 13.3 22 15 22C18.3 22 21 19.3 21 16C21 13.4 19.4 11.1 17 10.3V9H21Z" fill="currentColor"/>
                            </svg>
                            <input 
                                type="text" 
                                id="username" 
                                name="username" 
                                placeholder="กรอกชื่อผู้ใช้"
                                value="<%= typeof username !== 'undefined' ? username : '' %>"
                                required
                            >
                            <div class="username-status" id="usernameStatus"></div>
                        </div>
                        <div class="field-hint">ชื่อผู้ใช้ต้องมี 3-20 ตัวอักษร (a-z, 0-9, _)</div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="password">รหัสผ่าน</label>
                            <div class="input-group">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8H17V6C17 3.24 14.76 1 12 1S7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM9 6C9 4.34 10.34 3 12 3S15 4.34 15 6V8H9V6Z" fill="currentColor"/>
                                </svg>
                                <input 
                                    type="password" 
                                    id="password" 
                                    name="password" 
                                    placeholder="กรอกรหัสผ่าน"
                                    required
                                >
                                <button type="button" class="password-toggle" onclick="togglePassword('password')">
                                    <svg id="eyeIcon1" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 4.5C7.5 4.5 3.73 7.61 3 12C3.73 16.39 7.5 19.5 12 19.5S20.27 16.39 21 12C20.27 7.61 16.5 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12S9.24 7 12 7 17 9.24 17 12 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12S10.34 15 12 15 15 13.66 15 12 13.66 9 12 9Z" fill="currentColor"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="password-strength" id="passwordStrength"></div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">ยืนยันรหัสผ่าน</label>
                            <div class="input-group">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 8H17V6C17 3.24 14.76 1 12 1S7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15S10.9 13 12 13 14 13.9 14 15 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9S15.1 4.29 15.1 6V8Z" fill="currentColor"/>
                                </svg>
                                <input 
                                    type="password" 
                                    id="confirmPassword" 
                                    name="confirmPassword" 
                                    placeholder="ยืนยันรหัสผ่าน"
                                    required
                                >
                                <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                    <svg id="eyeIcon2" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 4.5C7.5 4.5 3.73 7.61 3 12C3.73 16.39 7.5 19.5 12 19.5S20.27 16.39 21 12C20.27 7.61 16.5 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12S9.24 7 12 7 17 9.24 17 12 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12S10.34 15 12 15 15 13.66 15 12 13.66 9 12 9Z" fill="currentColor"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="password-match" id="passwordMatch"></div>
                        </div>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" name="terms" id="terms" required>
                            <span class="checkmark"></span>
                            ยอมรับ <a href="/terms" target="_blank">เงื่อนไขการใช้งาน</a> และ <a href="/privacy" target="_blank">นโยบายความเป็นส่วนตัว</a>
                        </label>
                    </div>

                    <button type="submit" class="login-btn register-btn" id="registerBtn">
                        <span class="btn-text">สมัครสมาชิก</span>
                        <div class="btn-loading" style="display: none;">
                            <div class="spinner"></div>
                            กำลังสมัครสมาชิก...
                        </div>
                    </button>
                </form>

                <div class="login-footer">
                    <p>มีบัญชีอยู่แล้ว? <a href="/login">เข้าสู่ระบบ</a></p>
                    <div class="divider">
                        <span>หรือ</span>
                    </div>
                    <a href="/" class="back-home-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z" fill="currentColor"/>
                        </svg>
                        กลับหน้าแรก
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/register.js"></script>
</body>
</html>